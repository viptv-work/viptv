import{p as _,q as et,s as st,t as I,v as at,P as lt,x as ot,y as it,z as H,A as F,B as rt,C as U,D as s,E as ht,R as L,G as ct,H as ut,I as mt,J as vt,K as Et,L as nt,h as pt,M as dt,N as gt,O,Q as Bt,S as yt,T as At,U as N,V as P,W as St}from"./app-DOxSLjDz.js";const Ct=["/blog.html","/","/archives/","/about/me.html","/about/notice.html","/about/site.html","/about/support.html","/blog/auto-push.html","/en/","/iptv/","/music/","/notes/demourl.html","/notes/disable.html","/notes/encrypt.html","/notes/layout.html","/notes/markdown.html","/notes/","/tutorial/idx-dev.html","/tutorial/","/vod/","/archives/2018/2018-09.html","/archives/2018/2018-10.html","/archives/2018/2018-11.html","/archives/2018/2018-12.html","/archives/2019/2019-01.html","/archives/2019/2019-02.html","/archives/2019/2019-03.html","/archives/2019/2019-04.html","/archives/2019/2019-05.html","/archives/2019/2019-06.html","/archives/2019/2019-07.html","/archives/2019/2019-08.html","/archives/2019/2019-09.html","/archives/2019/2019-10.html","/archives/2019/2019-11.html","/archives/2019/2019-12.html","/archives/2020/2020-01.html","/archives/2020/2020-02.html","/archives/2020/2020-03.html","/archives/2020/2020-04.html","/archives/2020/2020-05.html","/archives/2020/2020-06.html","/archives/2020/2020-07.html","/archives/2020/2020-08.html","/archives/2020/2020-09.html","/archives/2020/2020-10.html","/archives/2020/2020-11.html","/archives/2020/2020-12.html","/archives/2021/2021-01.html","/archives/2021/2021-02.html","/archives/2021/2021-03.html","/archives/2021/2021-04.html","/archives/2021/2021-05.html","/archives/2021/2021-06.html","/archives/2021/2021-07.html","/archives/2021/2021-08.html","/archives/2021/2021-09.html","/archives/2021/2021-10.html","/archives/2021/2021-11.html","/archives/2021/2021-12.html","/archives/2022/2022-01.html","/archives/2022/2022-02.html","/archives/2022/2022-03.html","/archives/2022/2022-04.html","/archives/2022/2022-05.html","/archives/2022/2022-06.html","/archives/2022/2022-07.html","/archives/2022/2022-08.html","/archives/2022/2022-09.html","/archives/2022/2022-10.html","/archives/2022/2022-11.html","/archives/2022/2022-12.html","/archives/2023/2023-01.html","/archives/2023/2023-02.html","/archives/2023/2023-03.html","/archives/2023/2023-04.html","/archives/2023/2023-05.html","/archives/2023/2023-06.html","/archives/2023/2023-07.html","/archives/2023/2023-08.html","/archives/2023/2023-09.html","/archives/2023/2023-10.html","/archives/2023/2023-11.html","/archives/2023/2023-12.html","/archives/2024/2024-01.html","/archives/2024/2024-02.html","/archives/2024/2024-03.html","/archives/2024/2024-04.html","/archives/2024/2024-05.html","/iptv/ty/","/iptv/ws/","/iptv/ys/","/iptv/ys/xiongmao.html","/iptv/ys/ysp.html","/posts/cross-platform/","/posts/iOS/","/posts/Linux/iterm2-pure.html","/posts/Linux/","/posts/Linux/unix-linux-note.html","/posts/Linux/zsh.html","/posts/Python/","/posts/Python/submit-bing.html","/posts/Python/submit-url.html","/posts/Rust/first-time.html","/posts/Rust/","/posts/Web/Q_A.html","/posts/Web/","/tutorial/CI_CD/Jenkins.html","/tutorial/CI_CD/","/tutorial/CI_CD/vercel-deploy.html","/tutorial/github/github-action.html","/tutorial/github/","/tutorial/github/ssh-key.html","/tutorial/OSS/meting2.html","/tutorial/OSS/","/vod/dongman/gcdm.html","/vod/dongman/gtdm.html","/vod/dongman/hwdm.html","/vod/dongman/omdm.html","/vod/dongman/","/vod/dongman/rhdm.html","/vod/duanju/fzsj.html","/vod/duanju/gzxx.html","/vod/duanju/ndcy.html","/vod/duanju/ndxy.html","/vod/duanju/","/vod/duanju/remen.html","/vod/duanju/swdj.html","/vod/duanju/xdds.html","/vod/movie/aqp.html","/vod/movie/dzp.html","/vod/movie/jqp.html","/vod/movie/kbp.html","/vod/movie/khp.html","/vod/movie/","/vod/movie/xjp.html","/vod/movie/zzp.html","/vod/sport/lanqiu.html","/vod/sport/","/vod/sport/taiqiu.html","/vod/sport/zuqiu.html","/vod/tvb/gcj.html","/vod/tvb/hgj.html","/vod/tvb/hkj.html","/vod/tvb/hwj.html","/vod/tvb/omj.html","/vod/tvb/rbj.html","/vod/tvb/","/vod/video/ks.dance.html","/vod/video/ks.dancedj.html","/vod/video/ks.gcw.html","/vod/video/ks.meitui.html","/vod/video/ks.xjj.html","/vod/video/","/vod/zongyi/dlzy.html","/vod/zongyi/gtzy.html","/vod/zongyi/omzy.html","/vod/zongyi/","/vod/zongyi/rhzy.html","/posts/cross-platform/Flutter/concurrency.html","/posts/cross-platform/Flutter/newbie.html","/posts/cross-platform/Flutter/principle.html","/posts/cross-platform/Flutter/","/posts/cross-platform/ReactNative/react1.html","/posts/cross-platform/ReactNative/react2.html","/posts/cross-platform/ReactNative/react3.html","/posts/cross-platform/ReactNative/","/posts/iOS/other/coreML.html","/posts/iOS/other/JavaScriptBridge.html","/posts/iOS/other/","/posts/iOS/other/test-Three-ways-to-%20call.html","/posts/iOS/other/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83.html","/posts/iOS/source/AFNETworking-A-memory-leak.html","/posts/iOS/source/","/posts/iOS/source/WCDB.html","/posts/iOS/source/YYMemoryCache.html","/posts/iOS/swift/","/posts/iOS/swift/swift%E6%8D%95%E8%8E%B7%E8%AF%AD%E4%B9%89.html","/posts/iOS/system/iOS%E4%B8%AD%E7%9A%84Runloop.html","/posts/iOS/system/iOS%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8Benum%EF%BC%8CNS_ENUM%EF%BC%8CNS_OPTIONS.html","/posts/iOS/system/iOS%E7%9A%84Cookie%E4%BD%BF%E7%94%A8.html","/posts/iOS/system/iOS%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%8A%EF%BC%89.html","/posts/iOS/system/iOS%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%8B%EF%BC%89.html","/posts/iOS/system/keychain%E6%9B%B4%E6%96%B0.html","/posts/iOS/system/NSError.html","/posts/iOS/system/NSOperation%E5%92%8CNSOPerationQueue.html","/posts/iOS/system/","/posts/iOS/system/Reduced-App-%20volume.html","/posts/iOS/system/runtime%E5%BF%AB%E9%80%9F%E5%BD%92%E6%A1%A3.html","/posts/iOS/system/WKWebView-URL.html","/posts/iOS/system/WKWebView.html","/posts/iOS/tool/ijkplayer.html","/posts/iOS/tool/","/posts/iOS/tool/Update-Cocoapods.html","/posts/iOS/tool/%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95.html","/posts/iOS/tool/%E9%85%8D%E7%BD%AEhttps.html","/posts/iOS/ui/cell%E5%A4%8D%E7%94%A8-accessoryType%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95.html","/posts/iOS/ui/","/posts/iOS/ui/tableview-radius.html","/posts/iOS/ui/textfiled%E9%99%90%E5%88%B6%E8%BE%93%E5%85%A5%E5%AD%97%E7%AC%A6.html","/posts/iOS/ui/timelineLogistics.html","/posts/iOS/ui/%E4%BC%98%E9%9B%85%E7%9A%84cell%E5%8D%95%E9%80%89.html","/posts/Web/Browser/event-loop.html","/posts/Web/Browser/","/posts/Web/CSS/calculation.html","/posts/Web/CSS/containing-block.html","/posts/Web/CSS/","/posts/Web/JavaScript/js-module-loader.html","/posts/Web/JavaScript/js-version.html","/posts/Web/JavaScript/judgment.html","/posts/Web/JavaScript/","/posts/Web/node/node-version.html","/posts/Web/node/","/posts/Web/Vue/optimization.html","/posts/Web/Vue/","/posts/Web/Vue/vue2-principle.html","/404.html","/about/","/blog/","/archives/2018/","/archives/2019/","/archives/2020/","/archives/2021/","/archives/2022/","/archives/2023/","/archives/2024/","/posts/","/category/","/category/%E5%8A%9F%E8%83%BD/","/category/%E7%BD%91%E7%BB%9C%E7%94%B5%E8%A7%86/","/category/%E9%9F%B3%E4%B9%90/","/category/%E6%B5%8B%E8%AF%95/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/%E6%8C%87%E5%8D%97/","/category/ai/","/category/%E5%BD%B1%E8%A7%86%E7%82%B9%E6%92%AD/","/category/%E7%9B%B4%E6%92%AD/","/category/linux/","/category/python/","/category/rust/","/category/%E6%B5%8F%E8%A7%88%E5%99%A8/","/category/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/","/category/vercel/","/category/github/","/category/git/","/category/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/","/category/flutter/","/category/dart/","/category/%E5%89%8D%E7%AB%AF%E8%B7%A8%E5%B9%B3%E5%8F%B0/","/category/ios/","/category/swift/","/category/css/","/category/javascript/","/category/vue/","/tag/","/tag/%E5%8A%9F%E8%83%BD/","/tag/%E6%B0%B4%E5%8D%B0/","/tag/.rtmp/","/tag/.rtsp/","/tag/.flv/","/tag/.mp4/","/tag/.hls/","/tag/%E7%A6%81%E7%94%A8/","/tag/%E5%8A%A0%E5%AF%86/","/tag/%E5%B8%83%E5%B1%80/","/tag/markdown/","/tag/ai/","/tag/%E5%BD%B1%E8%A7%86/","/tag/%E7%86%8A%E7%8C%AB/","/tag/%E6%B5%8B%E8%AF%95/","/tag/terminal/","/tag/linux/","/tag/os/","/tag/unix/","/tag/%E5%B7%A5%E5%85%B7%E8%84%9A%E6%9C%AC/","/tag/github-action/","/tag/rust/","/tag/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/","/tag/jenkins/","/tag/vercel/","/tag/github-actions/","/tag/ssh-key/","/tag/github/","/tag/%E5%8A%A8%E6%BC%AB/","/tag/%E7%9F%AD%E5%89%A7/","/tag/%E6%B8%AF%E5%8F%B0/","/tag/%E9%9F%A9%E5%9B%BD/","/tag/%E4%BC%A6%E7%90%86%E7%89%87/","/tag/%E6%97%A5%E6%9C%AC/","/tag/%E5%B0%8F%E5%A7%90%E5%A7%90/","/tag/%E7%88%B1%E6%83%85/","/tag/%E7%AF%AE%E7%90%83/","/tag/%E5%89%A7%E6%83%85/","/tag/%E6%81%90%E6%80%96/","/tag/%E7%A7%91%E5%B9%BB/","/tag/%E5%96%9C%E5%89%A7/","/tag/%E6%88%98%E4%BA%89/","/tag/%E5%8F%B0%E7%90%83/","/tag/%E8%B6%B3%E7%90%83/","/tag/%E5%9B%BD%E4%BA%A7%E5%89%A7/","/tag/%E9%9F%A9%E5%9B%BD%E5%89%A7/","/tag/%E9%A6%99%E6%B8%AF%E5%89%A7/","/tag/%E6%B5%B7%E5%A4%96%E5%89%A7/","/tag/%E6%AC%A7%E7%BE%8E%E5%89%A7/","/tag/%E6%97%A5%E6%9C%AC%E5%89%A7/","/tag/%E5%BF%AB%E6%89%8B/","/tag/%E5%B9%BF%E5%9C%BA%E8%88%9E/","/tag/%E7%BB%BC%E8%89%BA/","/tag/%E6%B8%AF%E5%8F%B0%E7%BB%BC%E8%89%BA/","/tag/dart/","/tag/flutter/","/tag/%E5%89%8D%E7%AB%AF/","/tag/react-native/","/tag/ios/","/tag/javascript/","/tag/bug%E5%BD%95/","/tag/%E5%B7%A5%E5%85%B7%E9%9B%86/","/tag/swift/","/tag/objectiv-c%E8%AF%AD%E6%B3%95/","/tag/%E7%AE%97%E6%B3%95/","/tag/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","/tag/demo/","/tag/%E7%BF%BB%E8%AF%91/","/tag/node/","/tag/%E4%BC%98%E5%8C%96/","/tag/vue%E5%93%8D%E5%BA%94%E5%BC%8F/","/article/","/star/","/timeline/","/recent-updated/","/slides/"],bt="SEARCH_PRO_QUERY_HISTORY",g=_(bt,[]),Ft=()=>{const{queryHistoryCount:a}=O,l=a>0;return{enabled:l,queryHistory:g,addQueryHistory:o=>{l&&(g.value=Array.from(new Set([o,...g.value.slice(0,a-1)])))},removeQueryHistory:o=>{g.value=[...g.value.slice(0,o),...g.value.slice(o+1)]}}},W=a=>Ct[a.id]+("anchor"in a?`#${a.anchor}`:""),Ot="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:T}=O,B=_(Ot,[]),Dt=()=>{const a=T>0;return{enabled:a,resultHistory:B,addResultHistory:l=>{if(a){const o={link:W(l),display:l.display};"header"in l&&(o.header=l.header),B.value=[o,...B.value.slice(0,T-1)]}},removeResultHistory:l=>{B.value=[...B.value.slice(0,l),...B.value.slice(l+1)]}}},ft=a=>{const l=vt(),o=I(),D=Et(),r=H(0),S=F(()=>r.value>0),n=nt([]);return pt(()=>{const{search:p,terminate:f}=dt(),y=gt(u=>{const A=u.join(" "),{searchFilter:k=E=>E,splitWord:w,suggestionsFilter:q,...d}=l.value;A?(r.value+=1,p(u.join(" "),o.value,d).then(E=>k(E,A,o.value,D.value)).then(E=>{r.value-=1,n.value=E}).catch(E=>{console.warn(E),r.value-=1,r.value||(n.value=[])})):n.value=[]},O.searchDelay-O.suggestDelay);U([a,o],([u])=>y(u),{immediate:!0}),Bt(()=>{f()})}),{isSearching:S,results:n}};var wt=et({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:l}){const o=st(),D=I(),r=at(lt),{enabled:S,addQueryHistory:n,queryHistory:p,removeQueryHistory:f}=Ft(),{enabled:y,resultHistory:u,addResultHistory:A,removeResultHistory:k}=Dt(),w=S||y,q=ot(a,"queries"),{results:d,isSearching:E}=ft(q),i=it({isQuery:!0,index:0}),m=H(0),v=H(0),Q=F(()=>w&&(p.value.length>0||u.value.length>0)),j=F(()=>d.value.length>0),x=F(()=>d.value[m.value]||null),J=()=>{const{isQuery:t,index:e}=i;e===0?(i.isQuery=!t,i.index=t?u.value.length-1:p.value.length-1):i.index=e-1},V=()=>{const{isQuery:t,index:e}=i;e===(t?p.value.length-1:u.value.length-1)?(i.isQuery=!t,i.index=0):i.index=e+1},M=()=>{m.value=m.value>0?m.value-1:d.value.length-1,v.value=x.value.contents.length-1},$=()=>{m.value=m.value<d.value.length-1?m.value+1:0,v.value=0},Y=()=>{v.value<x.value.contents.length-1?v.value+=1:$()},K=()=>{v.value>0?v.value-=1:M()},R=t=>t.map(e=>St(e)?e:s(e[0],e[1])),G=t=>{if(t.type==="customField"){const e=yt[t.index]||"$content",[h,b=""]=At(e)?e[D.value].split("$content"):e.split("$content");return t.display.map(c=>s("div",R([h,...c,b])))}return t.display.map(e=>s("div",R(e)))},C=()=>{m.value=0,v.value=0,l("updateQuery",""),l("close")},X=()=>S?s("ul",{class:"search-pro-result-list"},s("li",{class:"search-pro-result-list-item"},[s("div",{class:"search-pro-result-title"},r.value.queryHistory),p.value.map((t,e)=>s("div",{class:["search-pro-result-item",{active:i.isQuery&&i.index===e}],onClick:()=>{l("updateQuery",t)}},[s(N,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},t),s("button",{class:"search-pro-remove-icon",innerHTML:P,onClick:h=>{h.preventDefault(),h.stopPropagation(),f(e)}})]))])):null,Z=()=>y?s("ul",{class:"search-pro-result-list"},s("li",{class:"search-pro-result-list-item"},[s("div",{class:"search-pro-result-title"},r.value.resultHistory),u.value.map((t,e)=>s(L,{to:t.link,class:["search-pro-result-item",{active:!i.isQuery&&i.index===e}],onClick:()=>{C()}},()=>[s(N,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},[t.header?s("div",{class:"content-header"},t.header):null,s("div",t.display.map(h=>R(h)).flat())]),s("button",{class:"search-pro-remove-icon",innerHTML:P,onClick:h=>{h.preventDefault(),h.stopPropagation(),k(e)}})]))])):null;return rt("keydown",t=>{if(a.isFocusing){if(j.value){if(t.key==="ArrowUp")K();else if(t.key==="ArrowDown")Y();else if(t.key==="Enter"){const e=x.value.contents[v.value];n(a.queries.join(" ")),A(e),o.push(W(e)),C()}}else if(y){if(t.key==="ArrowUp")J();else if(t.key==="ArrowDown")V();else if(t.key==="Enter"){const{index:e}=i;i.isQuery?(l("updateQuery",p.value[e]),t.preventDefault()):(o.push(u.value[e].link),C())}}}}),U([m,v],()=>{var t;(t=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||t.scrollIntoView(!1)},{flush:"post"}),()=>s("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!j.value:!Q.value}],id:"search-pro-results"},a.queries.length?E.value?s(ht,{hint:r.value.searching}):j.value?s("ul",{class:"search-pro-result-list"},d.value.map(({title:t,contents:e},h)=>{const b=m.value===h;return s("li",{class:["search-pro-result-list-item",{active:b}]},[s("div",{class:"search-pro-result-title"},t||r.value.defaultTitle),e.map((c,tt)=>{const z=b&&v.value===tt;return s(L,{to:W(c),class:["search-pro-result-item",{active:z,"aria-selected":z}],onClick:()=>{n(a.queries.join(" ")),A(c),C()}},()=>[c.type==="text"?null:s(c.type==="title"?ct:c.type==="heading"?ut:mt,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},[c.type==="text"&&c.header?s("div",{class:"content-header"},c.header):null,s("div",G(c))])])})])})):r.value.emptyResult:w?Q.value?[X(),Z()]:r.value.emptyHistory:r.value.emptyResult)}});export{wt as default};
