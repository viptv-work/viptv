import{_ as p,C as o,c as l,k as s,a,H as e,Q as t,o as c}from"./chunks/framework.06fa6207.js";const v=JSON.parse('{"title":"è‡ªå¸¦JSå·¥å…·åº“","description":"","frontmatter":{"title":"è‡ªå¸¦JSå·¥å…·åº“"},"headers":[],"relativePath":"guide/fetch.md","filePath":"guide/fetch.md","lastUpdated":1696843868000}'),r={name:"guide/fetch.md"},y=s("h4",{id:"jstool-tmui-design",tabindex:"-1"},[a("JSTool tmui.design "),s("a",{class:"header-anchor",href:"#jstool-tmui-design","aria-label":'Permalink to "JSTool tmui.design"'},"â€‹")],-1),E={id:"jså·¥å…·åº“",tabindex:"-1"},i=s("a",{class:"header-anchor",href:"#jså·¥å…·åº“","aria-label":'Permalink to "JSå·¥å…·åº“  <Badge type="danger" text="v3.0.5+" vertical="middle" />"'},"â€‹",-1),d=t(`<h2 id="å¦‚ä½•è°ƒç”¨" tabindex="-1">ğŸ‰ å¦‚ä½•è°ƒç”¨ <a class="header-anchor" href="#å¦‚ä½•è°ƒç”¨" aria-label="Permalink to &quot;:tada: å¦‚ä½•è°ƒç”¨&quot;">â€‹</a></h2><p>åœ¨å…¨å±€ä»»æ„ä½ç½®å‡å¯è°ƒç”¨ï¼Œéƒ¨åˆ†æ–¹æ³•éœ€è¦ä½ å¯¼å…¥ç›¸å…³åŒ…ï¼ˆä¸»è¦æ˜¯ä¸ºäº†åŒ…å¤§å°è€ƒè™‘ï¼‰<br><em><strong>ä¸ºä»€ä¹ˆåœ¨uniä¸­æ˜¯$tmè€Œåœ¨ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨tmã€‚å› ä¸º$tmåœ¨ä¸Šä¸‹æ–‡é‡Œè¢«ç³»ç»Ÿä½¿ç”¨äº†</strong></em></p><p>åœ¨vueæˆ–è€…nvueé¡µé¢ä¸­è°ƒç”¨</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {getCurrentInstance} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vue&quot;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> {</span><span style="color:#79B8FF;">proxy</span><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getCurrentInstance</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//å¯ä»¥åœ¨ä»»æ„jsä¸­è°ƒç”¨</span></span>
<span class="line"><span style="color:#E1E4E8;">uni.$tm.fetch.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(url) </span><span style="color:#6A737D;">//è®¿é—®ç½‘ç»œè¯·æ±‚</span></span>
<span class="line"><span style="color:#6A737D;">//åªåœ¨æœ¬ä¸Šä¸‹æ–‡ä»¶ä¸­å¯ä»¥ç”¨å¦‚ä¸‹ï¼š</span></span>
<span class="line"><span style="color:#E1E4E8;">proxy.tm.fetch.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(url)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {getCurrentInstance} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vue&quot;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> {</span><span style="color:#005CC5;">proxy</span><span style="color:#24292E;">} </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getCurrentInstance</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//å¯ä»¥åœ¨ä»»æ„jsä¸­è°ƒç”¨</span></span>
<span class="line"><span style="color:#24292E;">uni.$tm.fetch.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(url) </span><span style="color:#6A737D;">//è®¿é—®ç½‘ç»œè¯·æ±‚</span></span>
<span class="line"><span style="color:#6A737D;">//åªåœ¨æœ¬ä¸Šä¸‹æ–‡ä»¶ä¸­å¯ä»¥ç”¨å¦‚ä¸‹ï¼š</span></span>
<span class="line"><span style="color:#24292E;">proxy.tm.fetch.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(url)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="å‚æ•°è¯´æ˜" tabindex="-1">ğŸ‰ å‚æ•°è¯´æ˜ <a class="header-anchor" href="#å‚æ•°è¯´æ˜" aria-label="Permalink to &quot;:tada: å‚æ•°è¯´æ˜&quot;">â€‹</a></h2><p>è¯·æ±‚è¿”å›çš„æ•°æ®ç±»å‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchConfigResponseType</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;arraybuffer&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;text&quot;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchConfigResponseType</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;arraybuffer&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>è¯·æ±‚çš„æ•°æ®ç±»å‹fetchConfigDataTypeï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchConfigDataType</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;json&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;text&quot;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchConfigDataType</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;json&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>åˆæ³•è¯·æ±‚ç±»å‹fetchConfigMethodå¦‚ä¸‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchConfigMethod</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;GET&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;POST&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;PUT&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;DELETE&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;CONNECT&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;HEAD&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;OPTIONS&quot;</span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;">&quot;TRACE&quot;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchConfigMethod</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;GET&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;POST&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;PUT&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;DELETE&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;CONNECT&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;HEAD&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;OPTIONS&quot;</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">&quot;TRACE&quot;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>è¯·æ±‚ä¸­çš„fetchConfigç±»å‹å¦‚ä¸‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchConfig</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">url</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">data</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">object</span><span style="color:#F97583;">|</span><span style="color:#79B8FF;">string</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">ArrayBuffer</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">/** å®šä¹‰æˆåŠŸçš„æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç æˆåŠŸçš„æ ‡å¿— */</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#FFAB70;">statusCode</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">header</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">object</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">method</span><span style="color:#F97583;">?:</span><span style="color:#B392F0;">fetchConfigMethod</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">timeout</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">dataType</span><span style="color:#F97583;">?:</span><span style="color:#B392F0;">fetchConfigDataType</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">responseType</span><span style="color:#F97583;">?:</span><span style="color:#B392F0;">fetchConfigResponseType</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">sslVerify</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">withCredentials</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">firstIpv4</span><span style="color:#F97583;">?:</span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">success</span><span style="color:#F97583;">?:</span><span style="color:#B392F0;">Function</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">fail</span><span style="color:#F97583;">?:</span><span style="color:#B392F0;">Function</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">complete</span><span style="color:#F97583;">?:</span><span style="color:#B392F0;">Function</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchConfig</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">url</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">string</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">data</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">object</span><span style="color:#D73A49;">|</span><span style="color:#005CC5;">string</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">ArrayBuffer</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">/** å®šä¹‰æˆåŠŸçš„æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç æˆåŠŸçš„æ ‡å¿— */</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#E36209;">statusCode</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">header</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">object</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">method</span><span style="color:#D73A49;">?:</span><span style="color:#6F42C1;">fetchConfigMethod</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">timeout</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">dataType</span><span style="color:#D73A49;">?:</span><span style="color:#6F42C1;">fetchConfigDataType</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">responseType</span><span style="color:#D73A49;">?:</span><span style="color:#6F42C1;">fetchConfigResponseType</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">sslVerify</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">withCredentials</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">firstIpv4</span><span style="color:#D73A49;">?:</span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">success</span><span style="color:#D73A49;">?:</span><span style="color:#6F42C1;">Function</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">fail</span><span style="color:#D73A49;">?:</span><span style="color:#6F42C1;">Function</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">complete</span><span style="color:#D73A49;">?:</span><span style="color:#6F42C1;">Function</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>è¯·æ±‚æˆåŠŸå,success(result),å…¶ä¸­resultç»“æ„ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchConfigSuccessType</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">data</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">object</span><span style="color:#F97583;">|</span><span style="color:#79B8FF;">string</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">ArrayBuffer</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">statusCode</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">header</span><span style="color:#F97583;">:</span><span style="color:#79B8FF;">object</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">cookies</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">Array</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchConfigSuccessType</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">data</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">object</span><span style="color:#D73A49;">|</span><span style="color:#005CC5;">string</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">ArrayBuffer</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">statusCode</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">number</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">header</span><span style="color:#D73A49;">:</span><span style="color:#005CC5;">object</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">cookies</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">Array</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="getè¯·æ±‚" tabindex="-1">ğŸ‰ GETè¯·æ±‚ <a class="header-anchor" href="#getè¯·æ±‚" aria-label="Permalink to &quot;:tada: GETè¯·æ±‚&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">uni.$tm.fetch.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(url:string,data:object</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{},opts:fetchConfig</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">uni.$tm.fetch.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(url:string,data:object</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{},opts:fetchConfig</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{})</span></span></code></pre></div><h2 id="postè¯·æ±‚" tabindex="-1">ğŸ‰ POSTè¯·æ±‚ <a class="header-anchor" href="#postè¯·æ±‚" aria-label="Permalink to &quot;:tada: POSTè¯·æ±‚&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">uni.$tm.fetch.</span><span style="color:#B392F0;">post</span><span style="color:#E1E4E8;">(url:string,data:object</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{},opts:fetchConfig</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">uni.$tm.fetch.</span><span style="color:#6F42C1;">post</span><span style="color:#24292E;">(url:string,data:object</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{},opts:fetchConfig</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{})</span></span></code></pre></div><h2 id="è‡ªå®šä¹‰è¯·æ±‚" tabindex="-1">ğŸ‰ è‡ªå®šä¹‰è¯·æ±‚ <a class="header-anchor" href="#è‡ªå®šä¹‰è¯·æ±‚" aria-label="Permalink to &quot;:tada: è‡ªå®šä¹‰è¯·æ±‚&quot;">â€‹</a></h2><p><code>request</code>ä¸ºè‡ªå®šä¹‰è®¿é—®è¯·æ±‚ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">uni.$tm.fetch.</span><span style="color:#B392F0;">request</span><span style="color:#E1E4E8;">(cog:fetchConfig </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> config,beforeFun</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;">Function,afterFun</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;">Function,complete</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;">Function)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">uni.$tm.fetch.</span><span style="color:#6F42C1;">request</span><span style="color:#24292E;">(cog:fetchConfig </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> config,beforeFun</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;">Function,afterFun</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;">Function,complete</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;">Function)</span></span></code></pre></div><p>å…¶ä¸­beforeFunï¼šè®¿é—®è¯·æ±‚å‰æ‰§è¡Œçš„å‹¾å­å‡½æ•°ã€‚å¯ä»¥æ˜¯<code>Promise&lt;fetchConfig&gt;</code>ï¼Œè¯·ä¸€å®šè¦è¿”å›ä¸€ä¸ªè¯·æ±‚é…ç½®ï¼Œå¯ä»¥ç›´æ¥è¿”å› {},ä¹Ÿå¯ä»¥è¿”å›falseï¼Œå°†é˜»æ­¢è¯·æ±‚ã€‚è¿™é‡Œçš„ä½œç”¨ï¼Œä¸»è¦æ˜¯ç”¨æ¥ è¯·æ±‚å‰çš„ä¸€äº›å‚æ•°é…ç½®ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">beforeFun</span><span style="color:#E1E4E8;">(cog:fetchConfig)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">beforeFun</span><span style="color:#24292E;">(cog:fetchConfig)</span></span></code></pre></div><p>afterFun:è¯·æ±‚é“¾æ¥æˆåŠŸstatusCode==200,çš„æƒ…å†µä¸‹ã€‚ç«‹å³æ‰§è¡Œçš„å‹¾å­å‡½æ•°ã€‚å¯ä»¥æ˜¯<code>Promise&lt;fetchConfigSuccessType&gt;</code>,å¯ä»¥ç›´æ¥è¿”å› {}ã€‚è¿™é‡Œçš„ä½œç”¨ï¼Œä¸»è¦æ˜¯ç”¨æ¥ å¯¹è¿”å›çš„ç»“æœæ•°æ®è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœä¸ä¿®æ”¹è¯·ç›´æ¥è¿”å›{}ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">afterFun</span><span style="color:#E1E4E8;">(result:fetchConfigSuccessType)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">afterFun</span><span style="color:#24292E;">(result:fetchConfigSuccessType)</span></span></code></pre></div><p>completeï¼šè¯·æ±‚å®Œæˆåæ‰§è¡Œã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">complete</span><span style="color:#E1E4E8;">(result:fetchConfigSuccessType)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">complete</span><span style="color:#24292E;">(result:fetchConfigSuccessType)</span></span></code></pre></div>`,28);function F(u,h,g,C,f,b){const n=o("Badge");return c(),l("div",null,[y,s("h1",E,[a("JSå·¥å…·åº“ "),e(n,{type:"danger",text:"v3.0.5+",vertical:"middle"}),a(),i]),d])}const B=p(r,[["render",F]]);export{v as __pageData,B as default};
